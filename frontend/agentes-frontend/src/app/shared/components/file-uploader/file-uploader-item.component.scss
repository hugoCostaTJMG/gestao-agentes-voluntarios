@import "../../general/colors/colors.scss";

.uploader-item {
  list-style: none;
  display: flex;
  flex-direction: column;
  background: $neutral-50;
  border: 1px solid $neutral-200;
  padding: 8px 12px;
  margin-bottom: 8px;
  transition: background 150ms ease-out, border-color 150ms ease-out;
  font-size: 14px;
  line-height: 1.4;

  &.sm { padding: 4px 8px; font-size: 12px; }
  &.lg { padding: 12px 16px; font-size: 16px; }

  &.error { border-color: $red-800; }
  &.is-disabled { opacity: 0.6; cursor: not-allowed; }

  &:focus-visible { outline: none; box-shadow: 0 0 0 2px $blue-600; }

  .item-content {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .file-name {
    flex: 1 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .btn-remove {
    background: none;
    border: 0;
    width: 32px;
    height: 32px;
    cursor: pointer;
    color: $neutral-600;
    transition: background 150ms ease-out, color 150ms ease-out;
    display: flex;
    align-items: center;
    justify-content: center;

    &:hover { background: $neutral-100; }
    &:focus-visible { outline: none; box-shadow: 0 0 0 2px $blue-600; }
  }

  .error-message {
    margin-top: 4px;
    color: $red-800;
    line-height: 1.3;

    .secondary { display: block; margin-top: 2px; }

    button.retry {
      margin-top: 4px;
      background: none;
      border: 0;
      color: $blue-600;
      text-decoration: underline;
      cursor: pointer;
      padding: 0;
      font: inherit;
      &:focus-visible { outline: none; box-shadow: 0 0 0 2px $blue-600; }
    }
  }

  i.fa-spinner { margin-left: 4px; }
}

.spin { animation: spin 1s linear infinite; }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

@media (max-width: 480px) {
  .uploader-item { width: 100%; }
}
