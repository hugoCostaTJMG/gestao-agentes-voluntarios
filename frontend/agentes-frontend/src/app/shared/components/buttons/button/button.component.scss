@import "../../../general/colors/colors.scss";

/* ===== Base ===== */
.cds--btn {
  /* tipografia e box */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 1px solid transparent;
  border-radius: 0; /* Carbon é quadrado */
  gap: 1rem;        /* >= 16px entre label e ícone (Carbon) */
  text-align: center;
  font-family: 'Montserrat', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  font-weight: 400;
  line-height: 1;
  letter-spacing: .16px;
  white-space: nowrap;
  user-select: none;
  transition: background-color .12s ease, color .12s ease, border-color .12s ease, box-shadow .12s ease;

  /* foco visível */
  &:focus-visible {
    outline: 2px solid $blue-800;   /* token de foco da sua paleta */
    outline-offset: 2px;
  }

  /* estado disabled */
  &:disabled {
    cursor: not-allowed;
    opacity: 1;
  }

  /* slots internos */
  &__label { display: inline-block; }
  &__icon  {
    display: inline-flex; align-items: center; justify-content: center;
    i { font-size: 1rem; line-height: 1; }
  }
}

/* ===== Sizes (produtivos): sm 32, md 40, lg 48 ===== */
.cds--btn--sm { min-height: 2rem;   padding-inline: 1rem;  font-size: .875rem; }
.cds--btn--md { min-height: 2.5rem; padding-inline: 1rem;  font-size: .875rem; }
.cds--btn--lg { min-height: 3rem;   padding-inline: 1rem;  font-size: 1rem;   }

/* Icon-only mantém botão quadrado */
.cds--btn--icon-only.cds--btn--sm { width: 2rem; }
.cds--btn--icon-only.cds--btn--md { width: 2.5rem; }
.cds--btn--icon-only.cds--btn--lg { width: 3rem; }
.cds--btn--icon-only .cds--btn__label { display: none; }

/* ===== Kinds ===== */
/* PRIMARY (filled) */
.cds--btn--primary {
  background-color: $red-800; color: #fff;
  &:hover:not(:disabled) { background-color: $red-700; }
  &:active:not(:disabled){ background-color: $red-900; }
  &:disabled { background-color: $neutral-300; color: #fff; }
}

/* SECONDARY (filled neutro) */
.cds--btn--secondary {
  background-color: $neutral-700; color: #fff;
  &:hover:not(:disabled) { background-color: $neutral-600; }
  &:active:not(:disabled){ background-color: $neutral-800; }
  &:disabled { background-color: $neutral-300; color: #fff; }
}

/* TERTIARY (borda) — equivalente ao “outline” do Carbon */
.cds--btn--tertiary {
  background-color: transparent; color: $neutral-900; border-color: $neutral-500;
  &:hover:not(:disabled) { background-color: $neutral-100; border-color: $neutral-700; }
  &:active:not(:disabled){ background-color: $neutral-200; }
  &:disabled { color: $neutral-400; border-color: $neutral-300; }
}

/* GHOST (sem borda) */
.cds--btn--ghost {
  background-color: transparent; color: $red-800;
  &:hover:not(:disabled) { background-color: $red-50; }
  &:active:not(:disabled){ background-color: $red-100; }
  &:disabled { color: $neutral-300; }
}

/* DANGER (filled) */
.cds--btn--danger {
  background-color: $red-600; color: #fff;
  &:hover:not(:disabled) { background-color: $red-500; }
  &:active:not(:disabled){ background-color: $red-700; }
  &:disabled { background-color: $neutral-300; color: #fff; }
}

/* DANGER-TERTIARY (borda) e DANGER-GHOST (sem borda) — variações Carbon */
.cds--btn--danger-tertiary {
  background-color: transparent; color: $red-700; border-color: $red-600;
  &:hover:not(:disabled) { background-color: $red-50; border-color: $red-700; }
  &:active:not(:disabled){ background-color: $red-100; }
  &:disabled { color: $neutral-300; border-color: $neutral-300; }
}
.cds--btn--danger-ghost {
  background-color: transparent; color: $red-700;
  &:hover:not(:disabled) { background-color: $red-50; }
  &:active:not(:disabled){ background-color: $red-100; }
  &:disabled { color: $neutral-300; }
}

/* ===== Inline loading (simples, Carbon-like) ===== */
.cds--btn--loading { pointer-events: none; }
.cds--loading {
  display: inline-flex; width: 1rem; height: 1rem; margin-right: .25rem;
}
.cds--loading__svg { width: 100%; height: 100%; transform-origin: 50% 50%; animation: spin .8s linear infinite; }
.cds--loading__stroke {
  fill: none; stroke: currentColor; stroke-width: 10;
  stroke-dasharray: 240; stroke-dashoffset: 60; /* “fatia” do círculo */
}
@keyframes spin { to { transform: rotate(360deg); } }

/* ===== Responsivo ===== */
@media (max-width: 480px) {
  .cds--btn { width: 100%; }
}
