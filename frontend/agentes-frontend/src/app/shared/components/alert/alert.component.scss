@import "../../general/colors/colors.scss";

/* -------- Base -------- */
.alert {
  position: relative;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: flex-start;
  gap: 12px;
  border: 1px solid transparent;
  border-radius: 8px;
  transition: filter 0.15s ease;
  line-height: 1.4;

  &:hover { filter: brightness(0.98); }

  .alert-icon-left,
  .alert-icon-right {
    margin-top: 2px;
    opacity: .9;
  }

  .alert-content {
    min-width: 0; // evita overflow
  }

  .alert-title {
    font-weight: 700;
    margin-bottom: 4px;
  }

  .alert-message {
    // suporta \n no texto
    white-space: pre-line;
  }

  .alert-close {
    position: absolute;
    top: 8px;
    right: 10px;
    background: none;
    border: 0;
    cursor: pointer;
    font-size: 18px;
    line-height: 1;
    opacity: .7;

    &:hover { opacity: 1; }
  }

  &.has-title .alert-message {
    margin-top: 2px;
  }
}

/* -------- Sizes -------- */
.alert.sm {
  padding: 8px 12px;
  font-size: 12px;

  .alert-title { font-size: 13px; }
  .alert-icon-left, .alert-icon-right { font-size: 14px; }
}

.alert.md {
  padding: 12px 16px;
  font-size: 14px;

  .alert-title { font-size: 16px; }
  .alert-icon-left, .alert-icon-right { font-size: 16px; }
}

.alert.lg {
  padding: 16px 20px;
  font-size: 15px;

  .alert-title { font-size: 18px; }
  .alert-icon-left, .alert-icon-right { font-size: 18px; }
}

/* -------- Cores (tinta suave + contraste de texto) -------- */
/* Usa tokens do seu colors.scss (blue, green, yellow, red, neutral, etc.) */

@mixin alert-variant($bg, $border, $text) {
  background: $bg;
  border-color: $border;
  color: $text;

  .alert-title { color: $text; }
  .alert-icon-left, .alert-icon-right { color: $text; }
}

/* Ajuste os tokens conforme seu palette */
.alert.primary  { @include alert-variant($blue-100,   $blue-200,   $blue-800); }
.alert.secondary{ @include alert-variant($blue-50,    $blue-200,   $blue-800); } // se não tiver $blue-200, troque por $blue-200
.alert.success  { @include alert-variant($green-100,  $green-200,  $green-800); }
.alert.info     { @include alert-variant($blue-100,   $blue-200,   $blue-800); }
.alert.warning  { @include alert-variant($yellow-100, $yellow-200, $yellow-900); }
.alert.danger   { @include alert-variant($red-100,    $red-200,    $red-800); }
.alert.neutral  { @include alert-variant($neutral-100,$neutral-200,$neutral-900); }

/* “Ghost” = transparente com borda leve */
.alert.ghost {
  background: transparent;
  border-color: $neutral-200;
  color: $neutral-900;

  .alert-title { color: inherit; }
  .alert-icon-left, .alert-icon-right { color: inherit; }
}

/* -------- Responsivo -------- */
@media (max-width: 480px) {
  .alert {
    grid-template-columns: 1fr auto;
    grid-auto-flow: row dense;

    .alert-icon-left {
      grid-column: 1 / 2;
      order: -1;
    }
    .alert-content {
      grid-column: 1 / -1;
    }
  }
}
